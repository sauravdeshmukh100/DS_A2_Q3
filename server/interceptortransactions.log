2025-03-11 20:34:13,830 - ✅ Request from Unknown - Method: /PaymentGateway/AuthenticateClient
2025-03-11 20:34:13,830 - ✅ Success: /PaymentGateway/AuthenticateClient completed
2025-03-11 20:34:13,831 - 🔑 Authentication attempt for user: alice from ipv6:%5B::1%5D:46240
2025-03-11 20:34:13,831 - ⚠️ alice attempted login with active session (rejected)
2025-03-11 20:34:34,211 - 🚀 Secure Payment Gateway started on port 50052 (TLS & Interceptors Enabled)
2025-03-11 20:34:50,743 - ✅ Request from Unknown - Method: /PaymentGateway/AuthenticateClient
2025-03-11 20:34:50,743 - ✅ Success: /PaymentGateway/AuthenticateClient completed
2025-03-11 20:34:50,744 - 🔑 Authentication attempt for user: alice from ipv6:%5B::1%5D:40740
2025-03-11 20:34:50,745 - ✅ alice successfully authenticated from ipv6:%5B::1%5D:40740
2025-03-11 20:34:53,882 - ✅ Authorized request from alice - Method: /PaymentGateway/CheckBalance
2025-03-11 20:34:53,883 - ✅ Request from Unknown - Method: /PaymentGateway/CheckBalance
2025-03-11 20:34:53,883 - ✅ Success: /PaymentGateway/CheckBalance completed
2025-03-11 20:34:53,890 - ✅ Secure connection established with sender's bank: HDFC
2025-03-11 20:34:53,897 - ✅ alice from ipv6:%5B::1%5D:40740 checked balance: ₹5000.0
2025-03-11 20:35:03,450 - ✅ Authorized request from alice - Method: /PaymentGateway/ProcessPayment
2025-03-11 20:35:03,450 - ✅ alice initiated a payment.
2025-03-11 20:35:03,450 - ✅ Request from Unknown - Method: /PaymentGateway/ProcessPayment
2025-03-11 20:35:03,451 - ✅ Transaction processed successfully by alice in /PaymentGateway/ProcessPayment
2025-03-11 20:35:03,451 - ✅ Success: /PaymentGateway/ProcessPayment completed
2025-03-11 20:35:03,452 - 🔄 [TXN: txn-20250311203503-1042589362791928095] alice (IP: ipv6:%5B::1%5D:40740) initiated payment of ₹1000.0 to 2001
2025-03-11 20:35:03,455 - ✅ Secure connection established with receiver's bank: ICICI
2025-03-11 20:35:03,455 - 🔄 [TXN: txn-20250311203503-1042589362791928095] PREPARE PHASE started
2025-03-11 20:35:03,456 - ✅ [TXN: txn-20250311203503-1042589362791928095] Sender bank prepared successfully
2025-03-11 20:35:03,467 - ✅ [TXN: txn-20250311203503-1042589362791928095] Receiver bank prepared successfully
2025-03-11 20:35:03,468 - ✅ [TXN: txn-20250311203503-1042589362791928095] PREPARE PHASE completed successfully
2025-03-11 20:35:03,468 - 🔄 [TXN: txn-20250311203503-1042589362791928095] COMMIT PHASE started
2025-03-11 20:35:03,477 - ✅ [TXN: txn-20250311203503-1042589362791928095] Sender bank committed successfully
2025-03-11 20:35:03,479 - ✅ [TXN: txn-20250311203503-1042589362791928095] Receiver bank committed successfully
2025-03-11 20:35:03,480 - ✅ [TXN: txn-20250311203503-1042589362791928095] COMMIT PHASE completed successfully
2025-03-11 20:35:03,480 - ✅ [TXN: txn-20250311203503-1042589362791928095] alice sent ₹1000.0 to 2001 successfully
2025-03-11 20:35:03,480 - ❌ [TXN: txn-20250311203503-1042589362791928095] Unexpected error: Protocol message PaymentResponse has no "transaction_id" field.
2025-03-11 20:35:03,480 - Exception calling application: Protocol message AbortRequest has no "amount" field.
Traceback (most recent call last):
  File "/home/saurav-deshmukh/DS/A2/Q3/server/payment_gateway.py", line 476, in ProcessPayment
    return payment_gateway_pb2.PaymentResponse(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: Protocol message PaymentResponse has no "transaction_id" field.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/saurav-deshmukh/grpc_env/lib/python3.12/site-packages/grpc/_server.py", line 610, in _call_behavior
    response_or_iterator = behavior(argument, context)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/saurav-deshmukh/DS/A2/Q3/server/payment_gateway.py", line 545, in ProcessPayment
    self.abort_transaction(
  File "/home/saurav-deshmukh/DS/A2/Q3/server/payment_gateway.py", line 254, in abort_transaction
    abort_request = bank_pb2.AbortRequest(
                    ^^^^^^^^^^^^^^^^^^^^^^
ValueError: Protocol message AbortRequest has no "amount" field.
2025-03-11 20:36:56,615 - 🚀 Secure Payment Gateway started on port 50052 (TLS & Interceptors Enabled)
2025-03-11 20:37:16,523 - ✅ Request from Unknown - Method: /PaymentGateway/AuthenticateClient
2025-03-11 20:37:16,524 - ✅ Success: /PaymentGateway/AuthenticateClient completed
2025-03-11 20:37:16,525 - 🔑 Authentication attempt for user: alice from ipv6:%5B::1%5D:53362
2025-03-11 20:37:16,526 - ✅ alice successfully authenticated from ipv6:%5B::1%5D:53362
2025-03-11 20:37:17,488 - ✅ Authorized request from alice - Method: /PaymentGateway/CheckBalance
2025-03-11 20:37:17,488 - ✅ Request from Unknown - Method: /PaymentGateway/CheckBalance
2025-03-11 20:37:17,488 - ✅ Success: /PaymentGateway/CheckBalance completed
2025-03-11 20:37:17,494 - ✅ Secure connection established with sender's bank: HDFC
2025-03-11 20:37:17,499 - ✅ alice from ipv6:%5B::1%5D:53362 checked balance: ₹4000.0
2025-03-11 20:37:29,606 - ✅ Authorized request from alice - Method: /PaymentGateway/ProcessPayment
2025-03-11 20:37:29,606 - ✅ alice initiated a payment.
2025-03-11 20:37:29,606 - ✅ Request from Unknown - Method: /PaymentGateway/ProcessPayment
2025-03-11 20:37:29,607 - ✅ Transaction processed successfully by alice in /PaymentGateway/ProcessPayment
2025-03-11 20:37:29,607 - ✅ Success: /PaymentGateway/ProcessPayment completed
2025-03-11 20:37:29,608 - 🔄 [TXN: txn-20250311203729-1402313833272332721] alice (IP: ipv6:%5B::1%5D:53362) initiated payment of ₹1000.0 to 2001
2025-03-11 20:37:29,611 - ✅ Secure connection established with receiver's bank: ICICI
2025-03-11 20:37:29,611 - 🔄 [TXN: txn-20250311203729-1402313833272332721] PREPARE PHASE started
2025-03-11 20:37:29,613 - ✅ [TXN: txn-20250311203729-1402313833272332721] Sender bank prepared successfully
2025-03-11 20:37:29,620 - ✅ [TXN: txn-20250311203729-1402313833272332721] Receiver bank prepared successfully
2025-03-11 20:37:29,621 - ✅ [TXN: txn-20250311203729-1402313833272332721] PREPARE PHASE completed successfully
2025-03-11 20:37:29,621 - 🔄 [TXN: txn-20250311203729-1402313833272332721] COMMIT PHASE started
2025-03-11 20:37:29,621 - ✅ [TXN: txn-20250311203729-1402313833272332721] Sender bank committed successfully
2025-03-11 20:37:29,630 - ✅ [TXN: txn-20250311203729-1402313833272332721] Receiver bank committed successfully
2025-03-11 20:37:29,630 - ✅ [TXN: txn-20250311203729-1402313833272332721] COMMIT PHASE completed successfully
2025-03-11 20:37:29,630 - ✅ [TXN: txn-20250311203729-1402313833272332721] alice sent ₹1000.0 to 2001 successfully
2025-03-11 20:37:29,630 - ❌ [TXN: txn-20250311203729-1402313833272332721] Unexpected error: Protocol message PaymentResponse has no "transaction_id" field.
2025-03-11 20:47:46,327 - 🚀 Secure Payment Gateway started on port 50052 (TLS & Interceptors Enabled)
2025-03-11 20:48:04,949 - ✅ Request from Unknown - Method: /PaymentGateway/AuthenticateClient
2025-03-11 20:48:04,949 - ✅ Success: /PaymentGateway/AuthenticateClient completed
2025-03-11 20:48:04,950 - 🔑 Authentication attempt for user: alice from ipv6:%5B::1%5D:34206
2025-03-11 20:48:04,951 - ✅ alice successfully authenticated from ipv6:%5B::1%5D:34206
2025-03-11 20:48:07,186 - ✅ Authorized request from alice - Method: /PaymentGateway/CheckBalance
2025-03-11 20:48:07,187 - ✅ Request from Unknown - Method: /PaymentGateway/CheckBalance
2025-03-11 20:48:07,187 - ✅ Success: /PaymentGateway/CheckBalance completed
2025-03-11 20:48:07,193 - ✅ Secure connection established with sender's bank: HDFC
2025-03-11 20:48:07,198 - ✅ alice from ipv6:%5B::1%5D:34206 checked balance: ₹3000.0
2025-03-11 20:48:16,275 - ✅ Authorized request from alice - Method: /PaymentGateway/ProcessPayment
2025-03-11 20:48:16,275 - ✅ alice initiated a payment.
2025-03-11 20:48:16,275 - ✅ Request from Unknown - Method: /PaymentGateway/ProcessPayment
2025-03-11 20:48:16,276 - ✅ Transaction processed successfully by alice in /PaymentGateway/ProcessPayment
2025-03-11 20:48:16,276 - ✅ Success: /PaymentGateway/ProcessPayment completed
2025-03-11 20:48:16,277 - 🔄 [TXN: txn-20250311204816-638750286781895736] alice (IP: ipv6:%5B::1%5D:34206) initiated payment of ₹2001.0 to 1000
2025-03-11 20:48:16,278 - ❌ [TXN: txn-20250311204816-638750286781895736] alice attempted payment to non-existent account 1000
2025-03-11 20:48:16,278 - ❌ [TXN: txn-20250311204816-638750286781895736] Unexpected error: 
2025-03-11 20:50:49,120 - ✅ Authorized request from alice - Method: /PaymentGateway/ProcessPayment
2025-03-11 20:50:49,121 - ✅ alice initiated a payment.
2025-03-11 20:50:49,121 - ✅ Request from Unknown - Method: /PaymentGateway/ProcessPayment
2025-03-11 20:50:49,121 - ✅ Transaction processed successfully by alice in /PaymentGateway/ProcessPayment
2025-03-11 20:50:49,121 - ✅ Success: /PaymentGateway/ProcessPayment completed
2025-03-11 20:50:49,122 - 🔄 [TXN: txn-20250311205049-282095103010428113] alice (IP: ipv6:%5B::1%5D:34206) initiated payment of ₹1000.0 to 2001
2025-03-11 20:50:49,125 - ✅ Secure connection established with receiver's bank: ICICI
2025-03-11 20:50:49,125 - 🔄 [TXN: txn-20250311205049-282095103010428113] PREPARE PHASE started
2025-03-11 20:50:49,127 - ✅ [TXN: txn-20250311205049-282095103010428113] Sender bank prepared successfully
2025-03-11 20:50:49,136 - ✅ [TXN: txn-20250311205049-282095103010428113] Receiver bank prepared successfully
2025-03-11 20:50:49,136 - ✅ [TXN: txn-20250311205049-282095103010428113] PREPARE PHASE completed successfully
2025-03-11 20:50:49,136 - 🔄 [TXN: txn-20250311205049-282095103010428113] COMMIT PHASE started
2025-03-11 20:50:49,137 - ✅ [TXN: txn-20250311205049-282095103010428113] Sender bank committed successfully
2025-03-11 20:50:49,145 - ✅ [TXN: txn-20250311205049-282095103010428113] Receiver bank committed successfully
2025-03-11 20:50:49,145 - ✅ [TXN: txn-20250311205049-282095103010428113] COMMIT PHASE completed successfully
2025-03-11 20:50:49,145 - ✅ [TXN: txn-20250311205049-282095103010428113] alice sent ₹1000.0 to 2001 successfully
2025-03-11 20:50:49,145 - ❌ [TXN: txn-20250311205049-282095103010428113] Unexpected error: Protocol message PaymentResponse has no "transaction_id" field.
2025-03-11 20:52:34,663 - 🚀 Secure Payment Gateway started on port 50052 (TLS & Interceptors Enabled)
2025-03-11 20:52:46,841 - ✅ Request from Unknown - Method: /PaymentGateway/AuthenticateClient
2025-03-11 20:52:46,842 - ✅ Success: /PaymentGateway/AuthenticateClient completed
2025-03-11 20:52:46,842 - 🔑 Authentication attempt for user: alicw from ipv6:%5B::1%5D:32920
2025-03-11 20:52:46,842 - ❌ Failed login attempt for user: alicw from ipv6:%5B::1%5D:32920
2025-03-11 20:52:56,262 - ✅ Request from Unknown - Method: /PaymentGateway/AuthenticateClient
2025-03-11 20:52:56,263 - ✅ Success: /PaymentGateway/AuthenticateClient completed
2025-03-11 20:52:56,263 - 🔑 Authentication attempt for user: alice from ipv6:%5B::1%5D:32920
2025-03-11 20:52:56,265 - ✅ alice successfully authenticated from ipv6:%5B::1%5D:32920
2025-03-11 20:52:57,688 - ✅ Authorized request from alice - Method: /PaymentGateway/CheckBalance
2025-03-11 20:52:57,688 - ✅ Request from Unknown - Method: /PaymentGateway/CheckBalance
2025-03-11 20:52:57,689 - ✅ Success: /PaymentGateway/CheckBalance completed
2025-03-11 20:52:57,696 - ✅ Secure connection established with sender's bank: HDFC
2025-03-11 20:52:57,702 - ✅ alice from ipv6:%5B::1%5D:32920 checked balance: ₹2000.0
2025-03-11 20:53:04,426 - ✅ Authorized request from alice - Method: /PaymentGateway/ProcessPayment
2025-03-11 20:53:04,426 - ✅ alice initiated a payment.
2025-03-11 20:53:04,427 - ✅ Request from Unknown - Method: /PaymentGateway/ProcessPayment
2025-03-11 20:53:04,427 - ✅ Transaction processed successfully by alice in /PaymentGateway/ProcessPayment
2025-03-11 20:53:04,427 - ✅ Success: /PaymentGateway/ProcessPayment completed
2025-03-11 20:53:04,428 - 🔄 [TXN: txn-20250311205304-987315813752001880] alice (IP: ipv6:%5B::1%5D:32920) initiated payment of ₹500.0 to 2001
2025-03-11 20:53:04,431 - ✅ Secure connection established with receiver's bank: ICICI
2025-03-11 20:53:04,431 - 🔄 [TXN: txn-20250311205304-987315813752001880] PREPARE PHASE started
2025-03-11 20:53:04,433 - ✅ [TXN: txn-20250311205304-987315813752001880] Sender bank prepared successfully
2025-03-11 20:53:04,441 - ✅ [TXN: txn-20250311205304-987315813752001880] Receiver bank prepared successfully
2025-03-11 20:53:04,441 - ✅ [TXN: txn-20250311205304-987315813752001880] PREPARE PHASE completed successfully
2025-03-11 20:53:04,441 - 🔄 [TXN: txn-20250311205304-987315813752001880] COMMIT PHASE started
2025-03-11 20:53:04,442 - ✅ [TXN: txn-20250311205304-987315813752001880] Sender bank committed successfully
2025-03-11 20:53:04,450 - ✅ [TXN: txn-20250311205304-987315813752001880] Receiver bank committed successfully
2025-03-11 20:53:04,450 - ✅ [TXN: txn-20250311205304-987315813752001880] COMMIT PHASE completed successfully
2025-03-11 20:53:04,450 - ✅ [TXN: txn-20250311205304-987315813752001880] alice sent ₹500.0 to 2001 successfully
